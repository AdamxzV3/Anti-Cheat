--THIS FILE SHOULD BE DISABLED

local Players = game:GetService("Players")
local Player = Players.LocalPlayer

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local _Workspace_ = game:GetService("Workspace")
repeat wait() until game:IsLoaded()

local WhitelistedGuis = {"Chat", "Freecom", "KCoreUI", "ChatInstallVerifier", "LoadingGui", "TouchGui", "TopbarPlus", "BubbleChat", "RbxCameraUi", "otherguinames"}
local BannedItems = {"BodyGyro", "BodyPosition", "BodyForce", "BodyVelocity", "BodyAngularVecocity", "ModuleScripr", "Folder", "Animation"}
local BannedHumanoidStates = {6, 11, 14, 16}




function Disconnect(Message)
	pcall(function()
		ReplicatedStorage.RemoteEvents.ClientKick:FireServer(Message)
		Player:Kick("No Hax.")
	end)
	
end

coroutine.resume(coroutine.create(function()
	while wait(10) do
		pcall(function()
			for _, Child in pairs(Player.PlayerGui:GetChildren()) do
				if table.find(WhitelistedGuis, Child.Name) then return end
				if Child:IsA("LocalScript") or Child.Name == "Dex" then
					Disconnect(Player.Name.."Was caught using sus")
				end
			end
			if _Workspace_:GetRealPhysicsFPS() > 60 then
				Disconnect(Player.Name.."'s fps was higher than maximum limit")
			end
		end)
	end
end))

Player.Character:WaitForChild("Humanoid").StateChanged:Connect(function(PreviousState, CurrentState)
	if table.find(BannedHumanoidStates, CurrentState.Value) then
		Disconnect(Player.Name.."'s humanoidstate was unexpectedly changed")
	end
end)

Player.Backpack.ChildAdded:Connect(function(Child)
	for _, v in pairs(Child:GetDescendants()) do
		if v.Name:Lower():find("bt") then
			Disconnect(Player.Name.."Was using Btools")
		end
		
	end
end)

Player.PlayerGui.ChildAdded:Connect(function(Child)
	if not table.find(WhitelistedGuis, Child.Name) then
		Disconnect("A GUI called"..Child.Name.." was inserted into"..Player.Name.."'s PlayerGui.")
	end
end)

Player.Character.DescendantAdded:Connect(function(Descendant)
	if table.find(BannedItems, Descendant.ClassName) then
		Disconnect("A "..Descendant.ClassName.." Was unexpectedly inserted into "..Player.Name.."'s character")
	end
end)
